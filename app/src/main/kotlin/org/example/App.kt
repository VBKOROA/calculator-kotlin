/*
 * This source file was generated by the Gradle 'init' task
 */
package org.example

fun calculate(num1: Int, num2: Int, op: String): Int? {
    // return - when 문법을 사용하여 연산을 수행
    return when (op) {
        "+" -> num1 + num2
        "-" -> num1 - num2
        "*" -> num1 * num2
        "/" -> if (num2 != 0) num1 / num2 else null
        else -> null
    }
}

fun readNumber(prompt: String): Int? {
    print(prompt)
    val input = readLine()
    return input?.toIntOrNull() // 입력값을 Int로 변환, 실패시 null 반환
}

fun main() {
    while (true) {
        val num1 = readNumber("첫 번째 숫자를 입력하세요: ")
        val num2 = readNumber("두 번째 숫자를 입력하세요: ")

        print("연산자를 입력하세요 (+, -, *, /): ")
        val op = readLine()

        // 입력값이 null이거나 숫자가 아닌 경우 처리
        if (num1 == null || num2 == null || op == null) {
            println("잘못된 입력입니다.")
            continue
        }

        // calculate 함수를 호출하여 결과를 계산
        val result = calculate(num1, num2, op)
        if (result != null) {
            println("결과: $result")
        } else {
            println("잘못된 연산자입니다.")
            continue
        }
        print("종료하시겠습니까?(exit): ")
        val exitInput = readLine()
        if(exitInput == "exit") {
            println("프로그램을 종료합니다.")
            break
        }
    }
}
